import fs from 'fs';
const sendPng =
  'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA3VJREFUaEPVmU2OTVEUhVeFPkaAniZtDT8TwAiQ6KOhoaVESzQwAH8jQF/CDNDTwwgwAZGvcndl137nnH3u9d69r05SSeXdc89Za++1/97b0SFfO4ccvw4LgYuSHkk6Pxj8saT7/L/NBM5Kui7pqqRTQSl/JR3ZRgIABfSNAmjPYasIAPrKABqr96yPki4v6YHjDjT6HrvOSfoyNwEDjab5m7p+ennNEcTIw0BDIlufJWHh2nou6Y493BQBZGEZpAf0V0mvJR2V9CRhuC+fdUuolfZKmJDCM0nvJP0YgvhVAv6AfNZBoDftGS4AABhr7wXhsEibJfDfJJ1x++4OpPc/miKhsWnvzwAaa3vQGfh7BTmdHrw1msDYtGegsTZ/tVWz/E1J3PnUvUicrNSJlgempL33TiJZtmmBR2JkIw94RT61GBib9gw0lv6doU40j+UBj0y/h7NW5BMJkPreDq7LcFjaswyS7ffPM8uzd1fSA/cSRioWPy+h6LIIKqa9MaCzgDXL2z6s7zvQ+LwYxLj/WAUVeZrqhyWmrh7Lcza6x5h+najJ03uAFz81SHAgRHAvRHr1znu94NlLur3dI59SEJN50BogTzZMDXguehPzcuGdMeB5vVs+JQL+foggmwuJZsgaNFhjilRN0yQSen1b1JNmL9VTiZEWRGjOWgv54RWLk7GW52yM4e/Bw5xTXT0E7GWyAodBphbsFicfJN0q3FrNJsPeX8Hi15JKPmmo742TiD8Dj2SpQ93yyWIgUcze4944ycBPks86CBjJVpy8qMjJGwivkn18wB4YXGrWHBMDPR4hTl5KuuQ2UzvoY1orBvzK4DIXAe4pNWJZMNJT0UTaOjD3tpiv2wN2V0yHpFjvlSgfso9fXfJZZwxEI5X6mRqoyfLZJAHOxuq+iteKEpXXf7lVHFzmjAG7K+Z1Po9DSffgsgQB7iQD+abw4dAoGh6qejr3LhHEdmfUN10sXrBWvGvuXZIAhQkv+N5p9Ny7JAHujvOtFbbuuXdpArXChva75t6lCXB/LGx4If5sVJ17t4FAqbB5XNWvTVrgN13I4t2xsPnnPe12kcumeqHSZaXCxr507t0GCRmGWNj4PJ17t4lAadDPWu1mGMwpIYDEwvZf8pk7iM2SdJ72mwEeaf1+kCWhSd9KpIfOuWFuCa2d2z8dyMExH4FbmwAAAABJRU5ErkJggg==';

export const checkTempFile = async (path: string) => {
  const tempPath = `${process.env.TMPDIR}${path}`;
  if (fs.existsSync(tempPath)) {
    return tempPath;
  }
  await fs.promises.writeFile(tempPath, Buffer.from(sendPng, 'base64'));
  return tempPath;
};
